(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d23012c"],{eb70:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container pt-md-3 pb-md-5 section-full-height"},[a("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e._m(0),a("div",{staticClass:"row mt-md-4"},[a("form",{staticClass:"col-md-7 px-4"},[a("div",{staticClass:"form-row mb-3"},[a("div",{staticClass:"col-12 h5 mb-3 text-center"},[e._v("訂單資訊")]),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"username"}},[e._v("收件人姓名")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.order.user.name,expression:"order.user.name"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:e.order.user.name},on:{input:function(t){t.target.composing||e.$set(e.order.user,"name",t.target.value)}}}),e.errors.has("name")?a("span",{staticClass:"text-danger"},[e._v("姓名欄位不得留空")]):e._e()]),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"usertel"}},[e._v("收件人電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.order.user.tel,expression:"order.user.tel"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("tel")},attrs:{type:"tel",id:"usertel",name:"tel",placeholder:"請輸入電話"},domProps:{value:e.order.user.tel},on:{input:function(t){t.target.composing||e.$set(e.order.user,"tel",t.target.value)}}}),e.errors.has("tel")?a("span",{staticClass:"text-danger"},[e._v("電話欄位不得留空")]):e._e()])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[e._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.order.user.email,expression:"order.user.email"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:e.order.user.email},on:{input:function(t){t.target.composing||e.$set(e.order.user,"email",t.target.value)}}}),e.errors.has("email")?a("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[e._v("收件人地址")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.order.user.address,expression:"order.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:e.order.user.address},on:{input:function(t){t.target.composing||e.$set(e.order.user,"address",t.target.value)}}}),e.errors.has("address")?a("span",{staticClass:"text-danger"},[e._v("地址欄位不得留空")]):e._e()]),a("div",{staticClass:"form-group"},[e._m(1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.order.message,expression:"order.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"4"},domProps:{value:e.order.message},on:{input:function(t){t.target.composing||e.$set(e.order,"message",t.target.value)}}})])]),a("div",{staticClass:"col-md-5 border shadow d-flex flex-column"},[a("div",{staticClass:"h5 text-center mt-3"},[e._v("您的訂單")]),a("table",{staticClass:"table mt-3"},[e._m(2),a("tbody",e._l(e.cartData.carts,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.product.title)+" Ｘ"+e._s(t.qty))]),a("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(t.product.price)))])])})),0),a("tfoot",{staticClass:"border-top"},[a("tr",[a("th",[e._v("總計")]),a("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(e.cartData.total)))])]),e.cartData.final_total<e.cartData.total?a("tr",[e._m(3),a("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(e.cartData.final_total)))])]):e._e()])]),a("div",{staticClass:"order-submit-section p-2 mt-auto"},[a("div",{staticClass:"d-flex"},[a("strong",{},[e._v("配送方式")]),a("div",{staticClass:"ml-auto"},[a("div",{staticClass:"form-check ml-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.payment_method,expression:"order.user.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-check-input",class:{"is-invalid":e.errors.has("payment")},attrs:{type:"radio",name:"payment",id:"CVS_COD",value:"CVS_COD",checked:""},domProps:{checked:e._q(e.order.user.payment_method,"CVS_COD")},on:{change:function(t){return e.$set(e.order.user,"payment_method","CVS_COD")}}}),a("label",{staticClass:"form-check-label mr-3",attrs:{for:"CVS_COD"}},[e._v("超商付款")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.payment_method,expression:"order.user.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-check-input",class:{"is-invalid":e.errors.has("payment")},attrs:{type:"radio",name:"payment",id:"credit_card",value:"credit_card"},domProps:{checked:e._q(e.order.user.payment_method,"credit_card")},on:{change:function(t){return e.$set(e.order.user,"payment_method","credit_card")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"credit_card"}},[e._v("信用卡付款")])]),e.errors.has("payment")?a("div",{staticClass:"text-danger"},[e._v("請選擇付款方式")]):e._e()])]),a("button",{staticClass:"btn btn-outline-success btn-block mt-4",on:{click:function(t){return t.preventDefault(),e.createOrder(t)}}},[e.uploadCart?a("i",{staticClass:"fas fa-spinner fa-spin"}):e._e(),e._v("送出訂單\n        ")])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert alert-primary text-center alert-rounded",attrs:{role:"alert"}},[e._v("1.輸入訂單資料")])]),a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert border-primary text-center alert-rounded",attrs:{role:"alert"}},[e._v("2.金流付款")])]),a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert border-primary text-center alert-rounded",attrs:{role:"alert"}},[e._v("3.完成")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"comment"}},[e._v("\n          備註\n          "),a("small",{staticClass:"text-muted"},[e._v("(選填)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("td",[e._v("商品")]),a("td",{attrs:{width:"100"}},[e._v("總計")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("th",[e._v("\n              折扣價\n              "),a("small",{staticClass:"text-success"},[e._v("(已套用coupon優惠)")])])}],i=a("1157"),o=a.n(i),l={data:function(){return{order:{user:{},message:""}}},methods:{createOrder:function(){var e=this;this.$validator.validate().then((function(t){t?e.$store.dispatch("createOrder",e.order):(e.$store.dispatch("uploadCart",!1),o()(event.target).removeAttr("disabled"))}))}},computed:{isLoading:function(){return this.$store.state.isLoading},cartData:function(){return this.$store.state.cartData},uploadCart:function(){return this.$store.state.uploadCart}},created:function(){this.$store.dispatch("getCartData")}},d=l,n=a("2877"),c=Object(n["a"])(d,r,s,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d23012c.2058fb9b.js.map