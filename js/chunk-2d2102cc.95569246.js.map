{"version":3,"sources":["webpack:///./src/views/Cart.vue?9bef","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?ed00","webpack:///./src/views/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_v","cartData","carts","length","_m","_l","item","key","id","removeCartItem","product_id","_e","style","product","_s","category_series","title","_f","price","origin_price","qty","unit","total","final_total","directives","name","rawName","value","expression","staticStyle","domProps","type","indexOf","_k","keyCode","useCoupon","target","composing","couponCode","class","staticRenderFns","data","methods","$store","dispatch","computed","state","created","component"],"mappings":"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","file":"js/chunk-2d2102cc.95569246.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container pt-md-3 pb-md-5 section-full-height\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-7\"},[_c('div',{staticClass:\"h4 text-center\"},[_vm._v(\"購 物 車 清 單\")]),(_vm.cartData.carts.length >= 1)?_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cartData.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm border-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[(_vm.product_id !== item.id)?_c('i',{staticClass:\"far fa-trash-alt\"}):_vm._e(),(_vm.product_id === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e()])]),_c('td',{staticClass:\"align-middle\",attrs:{\"width\":\"42\"}},[_c('div',{staticClass:\"bg-cover\",style:((\"background-image:url('\" + (item.product.imageUrl) + \"');width: 42px;height:42px\"))})]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"text-muted\"},[_c('span',{staticClass:\"d-md-inline-block d-none\"},[_vm._v(_vm._s(item.product.category_series))]),_vm._v(\"\\n                \"+_vm._s(item.product.title)+\"\\n              \")])]),_c('td',{staticClass:\"align-middle text-right d-md-table-cell d-none\"},[_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('del',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.origin_price)))])]),_c('td',{staticClass:\"align-middle text-center\"},[_c('div',{},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))])]),_c('td',{staticClass:\"align-middle text-right\"},[_c('span',{},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price * item.qty)))])])])}),0)]):_vm._e(),(_vm.cartData.carts.length < 1)?_c('div',{staticClass:\"py-6 text-center border-top border-bottom\"},[_c('div',{staticClass:\"h5\"},[_vm._v(\"購物車沒有商品喔！\")]),_c('router-link',{staticClass:\"btn btn-primary mt-3\",attrs:{\"to\":\"/products\"}},[_vm._v(\"繼續購物\")])],1):_vm._e()]),_c('div',{staticClass:\"col-md-5 my-md-0 my-2\"},[_c('div',{staticClass:\"border p-3 shadow\"},[_c('div',{staticClass:\"h5 text-center border-bottom pb-2\"},[_vm._v(\"購 物 車 合 計\")]),_c('div',{staticClass:\"d-flex py-2\"},[_c('h6',[_vm._v(\"總計\")]),(_vm.cartData.total)?_c('span',{staticClass:\"ml-auto\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cartData.total)))]):_vm._e()]),(_vm.cartData.final_total < _vm.cartData.total)?_c('div',{staticClass:\"d-flex py-2\"},[_vm._m(1),_c('span',{staticClass:\"ml-auto text-success\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cartData.final_total)))])]):_vm._e(),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.couponCode),expression:\"couponCode\"}],staticClass:\"form-control\",staticStyle:{\"font-size\":\"0.875rem\"},attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.couponCode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.useCoupon($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.couponCode=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":_vm.useCoupon}},[_vm._v(\"套用優惠碼\")])])]),_c('small',{staticClass:\"ml-auto text-success py-1 d-block mb-3\"},[(_vm.cartData.final_total >= _vm.cartData.total)?_c('span',[_vm._v(\"現在輸入OPEN50OFF即可享有折扣價喔!\")]):_vm._e()]),_c('router-link',{staticClass:\"btn btn-outline-success btn-block\",class:{'disabled':_vm.cartData.carts.length < 1},attrs:{\"to\":\"/CustomerOrder\"}},[_vm._v(\"前往結帳\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"width\":\"25\"}}),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"品名\")]),_c('th',{staticClass:\"d-md-table-cell d-none\",attrs:{\"width\":\"90\"}},[_vm._v(\"單價\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"75\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"90\"}},[_vm._v(\"小計\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex\"},[_c('h6',[_vm._v(\"折扣價\")]),_c('small',{staticClass:\"text-success\"},[_vm._v(\"(已套用coupon優惠)\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container pt-md-3 pb-md-5 section-full-height\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"row\">\n      <!--    左側購物清單    -->\n      <div class=\"col-md-7\">\n        <div class=\"h4 text-center\">購 物 車 清 單</div>\n        <table class=\"table\" v-if=\"cartData.carts.length >= 1\">\n          <thead>\n            <th width=\"25\"></th>\n            <th colspan=\"2\">品名</th>\n            <th width=\"90\" class=\"d-md-table-cell d-none\">單價</th>\n            <th width=\"75\" class=\"text-center\">數量</th>\n            <th width=\"90\">小計</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\n              <td class=\"align-middle\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm border-0\"\n                  @click=\"removeCartItem(item.id)\"\n                >\n                  <i class=\"far fa-trash-alt\" v-if=\"product_id !== item.id\"></i>\n                  <i class=\"fas fa-spinner fa-spin\" v-if=\"product_id === item.id\"></i>\n                </button>\n              </td>\n              <td width=\"42\" class=\"align-middle\">\n                <div\n                  class=\"bg-cover\"\n                  :style=\"`background-image:url('${item.product.imageUrl}');width: 42px;height:42px`\"\n                ></div>\n              </td>\n              <td class=\"align-middle\">\n                <div class=\"text-muted\">\n                  <span class=\"d-md-inline-block d-none\">{{item.product.category_series}}</span>\n                  {{item.product.title}}\n                </div>\n              </td>\n              <td class=\"align-middle text-right d-md-table-cell d-none\">\n                <span class=\"text-success\">{{item.product.price|currency}}</span>\n                <del class=\"text-muted\">{{item.product.origin_price|currency}}</del>\n              </td>\n              <td class=\"align-middle text-center\">\n                <div class>{{item.qty}}/{{item.product.unit}}</div>\n              </td>\n              <td class=\"align-middle text-right\">\n                <span class>{{item.product.price * item.qty |currency}}</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"py-6 text-center border-top border-bottom\" v-if=\"cartData.carts.length < 1\">\n          <div class=\"h5\">購物車沒有商品喔！</div>\n          <router-link class=\"btn btn-primary mt-3\" to=\"/products\">繼續購物</router-link>\n        </div>\n      </div>\n      <!--    右側購物小計    -->\n      <div class=\"col-md-5 my-md-0 my-2\">\n        <div class=\"border p-3 shadow\">\n          <div class=\"h5 text-center border-bottom pb-2\">購 物 車 合 計</div>\n          <div class=\"d-flex py-2\">\n            <h6>總計</h6>\n            <span class=\"ml-auto\" v-if=\"cartData.total\">{{cartData.total|currency}}</span>\n          </div>\n          <div class=\"d-flex py-2\" v-if=\"cartData.final_total < cartData.total\">\n            <div class=\"d-flex\">\n              <h6>折扣價</h6>\n              <small class=\"text-success\">(已套用coupon優惠)</small>\n            </div>\n            <span class=\"ml-auto text-success\">{{cartData.final_total|currency}}</span>\n          </div>\n          <div class=\"input-group\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入優惠碼\"\n              v-model=\"couponCode\"\n              @keyup.enter=\"useCoupon\"\n              style=\"font-size:0.875rem\"\n            />\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn btn-sm btn-outline-primary\"\n                type=\"button\"\n                id=\"button-addon2\"\n                @click=\"useCoupon\"\n              >套用優惠碼</button>\n            </div>\n          </div>\n          <small class=\"ml-auto text-success py-1 d-block mb-3\">\n            <span v-if=\"cartData.final_total >= cartData.total\">現在輸入OPEN50OFF即可享有折扣價喔!</span>\n          </small>\n          <router-link\n            class=\"btn btn-outline-success btn-block\"\n            :class=\"{'disabled':cartData.carts.length < 1}\"\n            to=\"/CustomerOrder\"\n          >前往結帳</router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      couponCode: '' // 綁定使用者輸入的coupon\n    }\n  },\n  methods: {\n    // 刪除購物車中的資料\n    removeCartItem (id) {\n      this.$store.dispatch('removeCartItem', id)\n    },\n    // 使用coupon折扣\n    useCoupon () {\n      this.$store.dispatch('useCoupon', this.couponCode)\n    }\n  },\n  computed: {\n    isLoading () {\n      return this.$store.state.isLoading\n    },\n    cartData () {\n      return this.$store.state.cartData\n    },\n    product_id () {\n      return this.$store.state.product_id\n    }\n  },\n  created () {\n    this.$store.dispatch('getCartData') // 更新購物車資料\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=05794983&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}